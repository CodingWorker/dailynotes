USE [MoliVideo20_Dev]
GO
/****** Object:  StoredProcedure [dbo].[Tv_GetVideo_All]    Script Date: 05/18/2017 18:27:05 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

ALTER PROCEDURE [dbo].[Tv_GetVideo_All]
	@orderBy varchar(50) = 'VideoId',
	@asc bit = 0
AS
BEGIN
	declare @sql varchar(200);
	
	if @asc = 0
	begin
		set @sql = 'SELECT Video.* FROM Video WHERE Deleted=0 AND Status = 0 ORDER BY '+@orderBy+' DESC;';
	END
	ELSE
	BEGIN
		set @sql = 'SELECT Video.* FROM Video WHERE Deleted=0 AND Status = 0 ORDER BY '+@orderBy+' asc;';
	END
	
	EXEC(@sql);
END